# OAuth2 Proxy with Okta SSO Environment Configuration
# Copy this file to .env.oauth2-proxy and configure the values

# Okta Configuration
# Get these values from your Okta application settings
OKTA_ISSUER_URL=https://your-org.okta.com/oauth2/default
OKTA_CLIENT_ID=your-client-id
OKTA_CLIENT_SECRET=your-client-secret

# OAuth2 Proxy Cookie Secret
# Generate with: openssl rand -base64 32
OAUTH2_PROXY_COOKIE_SECRET=your-cookie-secret

# Access Control
# Comma-separated list of allowed email domains (* for all)
ALLOWED_EMAIL_DOMAINS=your-company.com

# Comma-separated list of allowed Okta groups (optional)
ALLOWED_GROUPS=sourcebot-users,admins

# Sourcebot Configuration
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/postgres
ZOEKT_WEBSERVER_URL=http://zoekt:6070
REDIS_URL=redis://redis:6379
DATA_CACHE_DIR=/app/.sourcebot
SOURCEBOT_PUBLIC_KEY_PATH=/app/public.pem

# OAuth2 Proxy Integration
OAUTH2_PROXY_ENABLED=true
OAUTH2_PROXY_VALIDATE_HEADERS=true
OAUTH2_PROXY_REQUIRED_GROUPS=sourcebot-users

# Legacy Auth (disabled)
AUTH_CREDENTIALS_LOGIN_ENABLED=false
AUTH_EMAIL_CODE_LOGIN_ENABLED=false

# Logging
SOURCEBOT_LOG_LEVEL=info
REVIEW_AGENT_LOGGING_ENABLED=true
REVIEW_AGENT_AUTO_REVIEW_ENABLED=false

# Encryption
SOURCEBOT_ENCRYPTION_KEY=your-encryption-key